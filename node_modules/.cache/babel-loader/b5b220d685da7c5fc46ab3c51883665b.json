{"remainingRequest":"/home/kelraf/code_it/vue/spider-ui/theme/node_modules/babel-loader/lib/index.js!/home/kelraf/code_it/vue/spider-ui/theme/node_modules/eslint-loader/index.js??ref--13-0!/home/kelraf/code_it/vue/spider-ui/theme/src/store/modules/products.js","dependencies":[{"path":"/home/kelraf/code_it/vue/spider-ui/theme/src/store/modules/products.js","mtime":1574932188000},{"path":"/home/kelraf/code_it/vue/spider-ui/theme/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/kelraf/code_it/vue/spider-ui/theme/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/kelraf/code_it/vue/spider-ui/theme/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _toConsumableArray from \"/home/kelraf/code_it/vue/spider-ui/theme/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport products from \"../../data/products\";\nvar cartItems = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\nvar state = {\n  products: products.data,\n  productslist: products.data,\n  cart: cartItems,\n  order: [],\n  tagItems: [],\n  filteredProduct: [],\n  searchTerm: ''\n}; // getters\n\nvar getters = {\n  getTotalAmount: function getTotalAmount(state) {\n    return state.cart.reduce(function (prev, curr) {\n      return prev + curr.price * curr.quantity;\n    }, 0);\n  },\n  getBrands: function getBrands(state) {\n    var brands = _toConsumableArray(new Set(state.products.map(function (product) {\n      return product.brand;\n    })));\n\n    return brands;\n  },\n  getCategory: function getCategory(state) {\n    var uniqueCategory = [];\n    var itemCat = Array();\n    state.products.map(function (product) {\n      if (product.category) {\n        product.category.map(function (category) {\n          var index = uniqueCategory.indexOf(category);\n          if (index === -1) uniqueCategory.push(category);\n        });\n      }\n    });\n\n    for (var i = 0; i < uniqueCategory.length; i++) {\n      itemCat.push({\n        category: uniqueCategory[i]\n      });\n    }\n\n    return itemCat;\n  },\n  getColors: function getColors(state) {\n    var uniqueColors = [];\n    var itemColor = Array();\n    state.products.map(function (product) {\n      if (product.colors) {\n        product.colors.map(function (color) {\n          var index = uniqueColors.indexOf(color);\n          if (index === -1) uniqueColors.push(color);\n        });\n      }\n    });\n\n    for (var i = 0; i < uniqueColors.length; i++) {\n      itemColor.push({\n        color: uniqueColors[i]\n      });\n    }\n\n    return itemColor;\n  },\n  filterProducts: function filterProducts(state) {\n    return state.filteredProduct.filter(function (product) {\n      if (!state.tagItems.length) return true;\n      var Tags = state.tagItems.some(function (prev) {\n        // Match Tags\n        if (product.tags) {\n          if (product.tags.includes(prev)) {\n            return prev;\n          }\n        }\n      });\n      return Tags;\n    });\n  },\n  getOrder: function getOrder(state) {\n    return state.order;\n  }\n}; // mutations\n\nvar mutations = {\n  addToCart: function addToCart(state, payload) {\n    var hasItems = state.cart.find(function (items) {\n      if (items.sku === payload.sku) {\n        items.quantity = items.quantity ? items.quantity : 1;\n        return true;\n      }\n\n      return false;\n    });\n\n    if (!hasItems) {\n      state.cart.push(payload);\n    }\n\n    localStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n  },\n  updateCartQuantity: function updateCartQuantity(state, payload) {\n    // Calculate Product stock Counts\n    function calculateStockCounts(product, quantity) {\n      var qty = product.quantity + quantity;\n      var stock = product.stock;\n\n      if (stock < qty) {\n        //   this.toastrService.error('You can not add more items than available. In stock '+ stock +' items.');\n        return false;\n      }\n\n      return true;\n    }\n\n    state.cart.find(function (items, index) {\n      if (items.sku === payload.product.sku) {\n        var qty = state.cart[index].quantity + payload.qty;\n        console.log(\"Match\", items.sku, qty);\n        var stock = calculateStockCounts(state.cart[index], payload.qty);\n        if (qty != 0 && stock) state.cart[index]['quantity'] = qty;else localStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n        return true;\n      }\n    });\n  },\n  removeProduct: function removeProduct(state, payload) {\n    var index = state.cart.indexOf(payload);\n    state.cart.splice(index, 1);\n    localStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n  },\n  priceFilter: function priceFilter(state, payload) {\n    state.filteredProduct = [];\n    state.products.find(function (product) {\n      if (product.price >= payload[0] && product.price <= payload[1]) {\n        state.filteredProduct.push(product);\n      }\n    });\n  },\n  setTags: function setTags(state, payload) {\n    state.tagItems = payload;\n  },\n  sortProducts: function sortProducts(state, payload) {\n    if (payload === 'a-z') {\n      state.filteredProduct.sort(function (a, b) {\n        if (a.name < b.name) {\n          return -1;\n        } else if (a.name > b.name) {\n          return 1;\n        }\n\n        return 0;\n      });\n    } else if (payload === 'z-a') {\n      state.filteredProduct.sort(function (a, b) {\n        if (a.name > b.name) {\n          return -1;\n        } else if (a.name < b.name) {\n          return 1;\n        }\n\n        return 0;\n      });\n    } else if (payload === 'low') {\n      state.filteredProduct.sort(function (a, b) {\n        if (a.price < b.price) {\n          return -1;\n        } else if (a.price > b.price) {\n          return 1;\n        }\n\n        return 0;\n      });\n    } else if (payload === 'high') {\n      state.filteredProduct.sort(function (a, b) {\n        if (a.price > b.price) {\n          return -1;\n        } else if (a.price < b.price) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n  },\n  createOrder: function createOrder(state, payload) {\n    state.order = payload;\n  }\n}; // actions\n\nvar actions = {\n  addToCart: function addToCart(context, payload) {\n    context.commit('addToCart', payload);\n  },\n  updateCartQuantity: function updateCartQuantity(context, payload) {\n    context.commit('updateCartQuantity', payload);\n  },\n  removeProduct: function removeProduct(context, payload) {\n    context.commit('removeProduct', payload);\n  },\n  Categoryfilter: function Categoryfilter(context, payload) {\n    context.commit('Categoryfilter', payload);\n  },\n  sortProducts: function sortProducts(context, payload) {\n    context.commit('sortProducts', payload);\n  },\n  createOrder: function createOrder(context, payload) {\n    context.commit('createOrder', payload);\n  },\n  priceFilter: function priceFilter(context, payload) {\n    context.commit('priceFilter', payload);\n  },\n  setTags: function setTags(context, payload) {\n    context.commit('setTags', payload);\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};",{"version":3,"sources":["/home/kelraf/code_it/vue/spider-ui/theme/src/store/modules/products.js"],"names":["products","cartItems","JSON","parse","localStorage","getItem","state","data","productslist","cart","order","tagItems","filteredProduct","searchTerm","getters","getTotalAmount","reduce","prev","curr","price","quantity","getBrands","brands","Set","map","product","brand","getCategory","uniqueCategory","itemCat","Array","category","index","indexOf","push","i","length","getColors","uniqueColors","itemColor","colors","color","filterProducts","filter","Tags","some","tags","includes","getOrder","mutations","addToCart","payload","hasItems","find","items","sku","setItem","stringify","updateCartQuantity","calculateStockCounts","qty","stock","console","log","removeProduct","splice","priceFilter","setTags","sortProducts","sort","a","b","name","createOrder","actions","context","commit","Categoryfilter","namespaced"],"mappings":"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","sourcesContent":["import products from '../../data/products'\n\nlet cartItems = JSON.parse(localStorage.getItem(\"cartItem\")) || [];\n\nconst state = {\n\tproducts: products.data,\n\tproductslist: products.data,\n\tcart: cartItems,\n\torder: [],\n\ttagItems: [],\n\tfilteredProduct: [],\n\tsearchTerm: ''\n}\n\n// getters\nconst getters = {\n\tgetTotalAmount: (state) => {\n\t\treturn state.cart.reduce((prev, curr) => {\n\t\t\treturn prev + curr.price * curr.quantity;\n\t\t}, 0);\n\t},\n\tgetBrands: (state) => {\n\t\tconst brands = [...new Set(state.products.map(product => product.brand))]\n\t\treturn brands\n\t},\n\tgetCategory: (state) => {\n\t\tvar uniqueCategory = []\n\t\tvar itemCat = Array();\n\t\tstate.products.map((product) => {\n\t\t\tif (product.category) {\n\t\t\t\tproduct.category.map((category) => {\n\t\t\t\t\tconst index = uniqueCategory.indexOf(category);\n\t\t\t\t\tif (index === -1) uniqueCategory.push(category);\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tfor (var i = 0; i < uniqueCategory.length; i++) {\n\t\t\titemCat.push({ category: uniqueCategory[i] })\n\t\t}\n\t\treturn itemCat\n\t},\n\tgetColors: (state) => {\n\t\tvar uniqueColors = []\n\t\tvar itemColor = Array();\n\t\tstate.products.map((product) => {\n\t\t\tif (product.colors) {\n\t\t\t\tproduct.colors.map((color) => {\n\t\t\t\t\tconst index = uniqueColors.indexOf(color);\n\t\t\t\t\tif (index === -1) uniqueColors.push(color);\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tfor (var i = 0; i < uniqueColors.length; i++) {\n\t\t\titemColor.push({ color: uniqueColors[i] })\n\t\t}\n\t\treturn itemColor\n\t},\n\tfilterProducts: (state) => {\n\t\treturn state.filteredProduct.filter((product) => {\n\t\t\tif (!state.tagItems.length) return true\n\t\t\tconst Tags = state.tagItems.some((prev) => { // Match Tags\n\t\t\t\tif (product.tags) {\n\t\t\t\t\tif (product.tags.includes(prev)) {\n\t\t\t\t\t\treturn prev\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn Tags\n\t\t})\n\t},\n\tgetOrder: (state) => {\n\t\treturn state.order\n\t}\n}\n\n// mutations\nconst mutations = {\n\n\taddToCart: (state, payload) => {\n\t\tlet hasItems = state.cart.find(items => {\n\t\t\tif (items.sku === payload.sku) {\n\t\t\t\titems.quantity = items.quantity ? items.quantity : 1\n\t\t\t\treturn true\n\t\t\t}\n\t\t\treturn false\n\t\t})\n\t\tif (!hasItems) {\n\t\t\tstate.cart.push(payload)\n\t\t}\n\t\tlocalStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n\t},\n\n\tupdateCartQuantity: (state, payload) => {\n\t\t// Calculate Product stock Counts\n\t\tfunction calculateStockCounts(product, quantity) {\n\t\t\tlet qty = product.quantity + quantity;\n\t\t\tlet stock = product.stock;\n\t\t\tif (stock < qty) {\n\t\t\t\t//   this.toastrService.error('You can not add more items than available. In stock '+ stock +' items.');\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\tstate.cart.find((items, index) => {\n\t\t\tif (items.sku === payload.product.sku) {\n\n\t\t\t\tlet qty = state.cart[index].quantity + payload.qty;\n\t\t\t\tconsole.log(\"Match\", items.sku, qty);\n\t\t\t\tlet stock = calculateStockCounts(state.cart[index], payload.qty);\n\t\t\t\tif (qty != 0 && stock)\n\t\t\t\t\tstate.cart[index]['quantity'] = qty;\n\t\t\t\telse\n\t\t\t\t\tlocalStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t},\n\n\tremoveProduct: (state, payload) => {\n\t\tconst index = state.cart.indexOf(payload);\n\t\tstate.cart.splice(index, 1);\n\t\tlocalStorage.setItem(\"cartItem\", JSON.stringify(state.cart));\n\t},\n\n\tpriceFilter: (state, payload) => {\n\t\tstate.filteredProduct = []\n\t\tstate.products.find((product) => {\n\t\t\tif (product.price >= payload[0] && product.price <= payload[1]) {\n\t\t\t\tstate.filteredProduct.push(product)\n\t\t\t}\n\t\t})\n\t},\n\n\tsetTags: (state, payload) => {\n\t\tstate.tagItems = payload\n\t},\n\n\tsortProducts: (state, payload) => {\n\t\tif (payload === 'a-z') {\n\t\t\tstate.filteredProduct.sort(function (a, b) {\n\t\t\t\tif (a.name < b.name) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.name > b.name) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t} else if (payload === 'z-a') {\n\t\t\tstate.filteredProduct.sort(function (a, b) {\n\t\t\t\tif (a.name > b.name) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.name < b.name) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t} else if (payload === 'low') {\n\t\t\tstate.filteredProduct.sort(function (a, b) {\n\t\t\t\tif (a.price < b.price) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.price > b.price) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t} else if (payload === 'high') {\n\t\t\tstate.filteredProduct.sort(function (a, b) {\n\t\t\t\tif (a.price > b.price) {\n\t\t\t\t\treturn -1\n\t\t\t\t} else if (a.price < b.price) {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t\treturn 0\n\t\t\t})\n\t\t}\n\t},\n\n\tcreateOrder: (state, payload) => {\n\t\tstate.order = payload\n\t}\n}\n\n// actions\nconst actions = {\n\taddToCart: (context, payload) => {\n\t\tcontext.commit('addToCart', payload)\n\t},\n\tupdateCartQuantity: (context, payload) => {\n\t\tcontext.commit('updateCartQuantity', payload)\n\t},\n\tremoveProduct: (context, payload) => {\n\t\tcontext.commit('removeProduct', payload)\n\t},\n\tCategoryfilter: (context, payload) => {\n\t\tcontext.commit('Categoryfilter', payload)\n\t},\n\tsortProducts: (context, payload) => {\n\t\tcontext.commit('sortProducts', payload)\n\t},\n\tcreateOrder: (context, payload) => {\n\t\tcontext.commit('createOrder', payload)\n\t},\n\tpriceFilter: (context, payload) => {\n\t\tcontext.commit('priceFilter', payload)\n\t},\n\tsetTags: (context, payload) => {\n\t\tcontext.commit('setTags', payload)\n\t}\n}\n\nexport default {\n\tnamespaced: true,\n\tstate,\n\tgetters,\n\tactions,\n\tmutations\n}"]}]}